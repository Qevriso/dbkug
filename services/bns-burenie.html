<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>БНС и ЦФА бурение — ДБК-ЮГ</title>
  <meta name="description" content="БНС и ЦФА бурение. Роторное бурение Sunward 160H. Буровая компания Горобцова А.С.">
  <link rel="stylesheet" href="/assets/css/fonts.css">
  <link rel="stylesheet" href="/assets/css/global.css">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script src="/assets/js/forms.js"></script>
</head>
<body class="bg-white text-[#1C1A1A]">
  <div data-include="/tpl/header.html"></div>
  <main class="pt-[116px] xl:pt-[132px]">
    <div data-include="/tpl/bns-hero.html"></div>
    <div data-include="/tpl/bns-gallery.html"></div>
    <div data-include="/tpl/bns-description.html"></div>
    <div data-include="/tpl/bns-promo.html"></div>
    <div data-include="/tpl/bns-frames.html"></div>
    <div data-include="/tpl/bns-cta.html"></div>
    <div data-include="/tpl/services1-services-cards.html"></div>
    <div data-include="/tpl/faq.html"></div>
    <div data-include="/tpl/calc-cost.html"></div>
  </main>

  <div data-include="/tpl/footer.html"></div>
  <div data-include="/tpl/popup-details.html"></div>

  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="/include.js"></script>

  <script>
    function openPopup(id) {
      document.getElementById(id).classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
    }
    function closePopup(id) {
      document.getElementById(id).classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
    }

    document.addEventListener('click', e => {
      const open = e.target.closest('[data-popup-open]');
      const close = e.target.closest('[data-popup-close]');
      if (open) { e.preventDefault(); openPopup(open.dataset.popupOpen); }
      if (close) { e.preventDefault(); closePopup(close.dataset.popupClose); }
    });

    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') closePopup('detailsPopup');
    });

    const form = document.getElementById('detailsForm');
    if (form) {
      form.addEventListener('submit', async e => {
        e.preventDefault();
        const btn = form.querySelector('button');
        btn.disabled = true;
        btn.textContent = 'Отправка…';

        try {
          const res = await fetch(form.action, {
            method: 'POST',
            body: new FormData(form)
          });
          if (res.ok) {
            btn.textContent = 'Отправлено ✓';
            form.reset();
          } else {
            btn.textContent = 'Ошибка';
          }
        } catch {
          btn.textContent = 'Ошибка сети';
        }

        setTimeout(() => {
          btn.disabled = false;
          btn.textContent = 'Отправить';
        }, 3000);
      });
    }
  </script>
</body>
</html>
